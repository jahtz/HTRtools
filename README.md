# Documentation
## Installation
### Download repository
```bash
git clone --recurse-submodules https://github.com/jahtz/htrtools.git
```

### Install requirements
```bash
pip install -r htrtools/requirements.txt
```
## Usage

### pagefix
Fix PageXML files. Specifically made for the output of [Kraken](https://github.com/mittagessen/kraken), but should work in other cases as well.<br>
Possible fixes:
- filename: change the imageFilename attribute of the PAGE file from absolute path to filename.
- regions: merge regions with the coordinates.
- order: add a reading order, sorted by their occurrence in the PAGE file.
- type: add of fix missing type attribute of regions.
- coords: replaces negative coordinates with 0.
- lines: Sorts TextLine elements by their y-coordinates.
- spikes: Remove elements mask spikes,
```bash
python htrtools pagefix -h
```

### rename
Rename files in a directory by some rules.
- replace: Replace or remove substrings of filenames.
- dots: Remove dots from filenames, keep defined number of suffixes.
- enumerate: Replaces the filename with an enumeration. Creates mapping.txt file.
- mapping: Rename files according to a mapping.txt file.
```bash
python htrtools rename -h
```

### coco2page
Converts COCO annotations to PAGE XML files. Custom mapping can be set in a JSON file.
```bash
python htrtools coco2page -h
```

### csv2txt
Converts a column of a CSV file to a text file. 
```bash
python htrtools csv2txt -h
```

### img2img
Converts images to a different format and/or resizes the file.
```bash
python htrtools img2img -h
```

### pdf2img
Converts a PDF file to a set of images. Filenames are generated by the page number.
```bash
python htrtools pdf2img -h
```

### pagesearch (old)
Search PageXML files for a set of strings. Outputs a CSV file with the results.<br>
Optional: Copy matched image and xml files to an output directory.
```bash
python htrtools pagesearch -h
```

### pagestats (not implemented)
Analyse PageXML files and output a CSV file with the results.<br>
Possible statistics:
- regions: region types and their count in each file
- lines: number of textlines in each file
```bash
python htrtools pagestats -h
```

## ZPD
Developed at Centre for [Philology and Digitality](https://www.uni-wuerzburg.de/en/zpd/) (ZPD), [University of WÃ¼rzburg](https://www.uni-wuerzburg.de/en/).
